<!DOCTYPE html>
<html>
<head>
  <base href="..">
    <meta charset="utf-8">
      <title>Using NPM with SystemJS | Matthew Phillips</title>

    <meta name="author" content="Matthew Phillips">
    <meta name="date" content="2015-04-22">

    <link rel="stylesheet" href="styles//normalize.css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Source+Code+Pro:300,600">
    <link rel="stylesheet" href="styles/screen.css">
    <link rel="stylesheet" href="styles/github.css">
</head>
<body>
  <section class="content">
    <header>
      <h1 id="gistid"><a href="https://gist.github.com/9277a46d76970fa4dadd">gist #9277a46d76970fa4dadd</a></h1>
      <h3>
        <span id="prompt"><span class="host">matthew@local</span><span>:</span><span class="tilde">~</span><span class="dollar">$<?span></span>
          <span> cat using-npm-with-systemjs.markdown</span>
      </h3>
      <h2 id="description" class="instapaper_title entry-title">Using NPM with SystemJS</h2>
    </header>

    <div id="gistbody" class="instapaper_body entry-content">
      <article>
        <p><a href="https://github.com/stealjs/system-npm">system-npm</a> is an amazing plugin for SystemJS that enables you to load your NPM dependencies with zero configuration.  Just load system-npm and then load your project; require your NPM dependencies just as if you were in Node.</p>
<p>To use system-npm with SystemJS you&#39;ll first want to install SystemJS into your project.  In this post we&#39;re assuming you&#39;ve included <code>system.js</code> and <code>es6-module-loader.js</code> in a <code>vendor/</code> folder, but you can place it where-ever you want. Then simply add a script tag to your page to load SystemJS:</p>
<pre><code><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"vendor/system.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre><h2 id="installing">Installing</h2>
<p><strong>system-npm</strong> is installed through NPM (of course!):</p>
<pre><code>npm install <span class="hljs-built_in">system</span>-npm --<span class="hljs-built_in">save</span>-<span class="hljs-built_in">dev</span>
</code></pre><h2 id="configuring">Configuring</h2>
<p>Next you&#39;ll want to configure SystemJS to know where to load the plugin. Create a <code>config.js</code> file and add the appropriate config:</p>
<pre><code><span class="hljs-tag">System</span><span class="hljs-class">.config</span>(<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">map</span>:<span class="hljs-value"> {
        <span class="hljs-string">"npm"</span>: <span class="hljs-string">"system-npm"</span>,
        <span class="hljs-string">"npm-extension"</span>: <span class="hljs-string">"system-npm/npm-extension"</span>
    },
    paths: {
        <span class="hljs-string">"system-npm/*"</span>: <span class="hljs-string">"node_modules/system-npm/*.js"</span>
    }
})</span></span>;</span>
</code></pre><p>This tells SystemJS how to load system-npm. Add the configuration script to your page after SystemJS:</p>
<pre><code><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"config.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre><h2 id="load-your-app">Load your app</h2>
<p>Now that it is configured you can load your <code>package.json</code> using the plugin and then start up your applicaiton:</p>
<pre><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="stylus">
    System.<span class="hljs-function"><span class="hljs-title">import</span><span class="hljs-params">(<span class="hljs-string">"package.json!npm"</span>)</span></span>.<span class="hljs-function"><span class="hljs-title">then</span><span class="hljs-params">(function()</span></span></span></span><span class="hljs-expression">{
        <span class="hljs-variable">System.import</span>(<span class="hljs-string">"app/app"</span>);
    }</span><span class="xml"><span class="dns">)<span class="hljs-comment">;</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span></span>
</code></pre><h2 id="develop">Develop</h2>
<p>From here you can develop as you wish, sharing the same dependencies between Node and the Browser. <strong>system-npm</strong> will load your package.json and use the metadata. If you want to limit it to only loading your client-side deps, you can specify this in your configuration:</p>
<pre><code><span class="hljs-tag">System</span><span class="hljs-class">.config</span>(<span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">npmDependencies</span>:<span class="hljs-value"> [
    <span class="hljs-string">"jquery"</span>,
    <span class="hljs-string">"backbone"</span>
  ]
})</span></span>;</span>
</code></pre><p>Doing this, system-npm will only load <em>jquery</em> and <em>backbone</em> as dependencies.</p>
<p>It&#39;s that simple. system-npm is a great way to instantly make your SystemJS projects nearly configuration-free.</p>


      </article>
    </div>
    <footer style="display: block">
      <p>Matthew Phillips</p>
    </footer>
  </section>
</body>
</html>
