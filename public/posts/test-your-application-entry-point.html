	<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.15" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title> Test Your Application Entry Point &middot; Matthew Phillips </title>

  
  <link rel="stylesheet" href="https://matthewphillips.info/css/poole.css">
  <link rel="stylesheet" href="https://matthewphillips.info/css/syntax.css">
  <link rel="stylesheet" href="https://matthewphillips.info/css/hyde.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/zenburn.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Matthew Phillips" />
</head>

	<body class="">
		<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://matthewphillips.info/"><h1>Matthew Phillips</h1></a>
      <p class="lead">
       Home on the World Wide Web 
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="/">Home</a> </li>
      
    </ul>

    <p>&copy; 2016. All rights reserved. </p>
  </div>
</div>


		<div class="content container">
			<div class="post">
			 	<h1>Test Your Application Entry Point</h1>
			  <span class="post-date">Wed, Mar 26, 2014</span>
			      <p>This will be short and sweet. When working on a large JavaScript application (or a small one, for that matter) you&rsquo;re going to have an entry point where you set up your world and get everything started. It probably looks something like this:</p>

<pre><code class="language-javascript">define([
  'xwidget',
  'ywidget',
  'routing'
], function(XWidget, YWidget, route){
  // Load everything!

  // Set up global state!
  var state = {
    light: 'green',
    time: new Date()
  };

  // Initialize main widget!
  var main = new XWidget('body', {
    subwidget: new YWidget($('&lt;div&gt;&lt;/div&gt;'), {}),
    state: state
  });

  // Listen for routes
  route('/calendar', function(){
    // Make some change to `main` probably
  });
});
</code></pre>

<p>It&rsquo;s very easy to forget that not only is this an important chunk of code, it influences everything else that happens further down the chain in your application. <strong>Test it</strong> as though it&rsquo;s just as important, because it is.</p>

<p>When you begin crafting your application as a pyramid of <a href="http://dailyjs.com/2014/03/10/components-controls/">web components</a> this becomes even more critical. Using <a href="http://canjs.com/guides/Components.html">can.Component</a>&rsquo;s scoping rules, data you initialize in your <code>main.js</code> will trickle down and be used by any component on your page, no matter how deeply nested.</p>

<p>This is amazing in terms of crafting components that glue well together, but the downside is that the tests you created for <code>&lt;x-widget&gt;</code> are not enough, that top level file might be doing things just slightly differently.</p>

<p>The benefits of writing tests first hold as well for your application entry point. If you try writing tests after-the-fact (as I&rsquo;m currently doing) you&rsquo;ll notice that things break as your entry point file is actually dependent on something in your <code>index.html</code> file (as an example). Tests first will force you to make sure everything is as maximally modular as can be.</p>

			</div>

			
		</div>

  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
